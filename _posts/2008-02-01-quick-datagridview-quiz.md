---
layout: post
title: Quick DataGridView Quiz
date: 2008-02-01 18:50
author: John
comments: true
categories: [All]
---
<P>A buddy of mine recently struggled with one of those "I can't beleive I didn't see it" issues. It went something like this ...</P> <P>Assuming:</P> <UL> <LI>you have a C# Windows Form application </LI> <LI>a WinForm </LI> <LI>a DataGridView</LI> <LI>a button called button1</LI> <LI>a valid connection string</LI> <LI>a valid sql statement</LI></UL> <P>What's wrong with this code, if anything?:</P> <DIV style="BORDER-RIGHT: windowtext 1pt solid; PADDING-RIGHT: 0pt; BORDER-TOP: windowtext 1pt solid; PADDING-LEFT: 0pt; FONT-SIZE: 10pt; BACKGROUND: white; PADDING-BOTTOM: 0pt; BORDER-LEFT: windowtext 1pt solid; COLOR: black; PADDING-TOP: 0pt; BORDER-BOTTOM: windowtext 1pt solid; FONT-FAMILY: Courier New"> <P style="MARGIN: 0px"><SPAN style="COLOR: teal">&nbsp;&nbsp;&nbsp;&nbsp;1</SPAN>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN style="COLOR: blue">private</SPAN> <SPAN style="COLOR: blue">void</SPAN> button1_Click(<SPAN style="COLOR: blue">object</SPAN> sender, EventArgs e)</P> <P style="MARGIN: 0px"><SPAN style="COLOR: teal">&nbsp;&nbsp;&nbsp;&nbsp;2</SPAN>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P> <P style="MARGIN: 0px"><SPAN style="COLOR: teal">&nbsp;&nbsp;&nbsp;&nbsp;3</SPAN>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; SqlConnection cn = <SPAN style="COLOR: blue">new</SPAN> SqlConnection(@"server=VSTSB2;database=northwind;integrated security=true;");</P> <P style="MARGIN: 0px"><SPAN style="COLOR: teal">&nbsp;&nbsp;&nbsp;&nbsp;4</SPAN>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; SqlCommand cmd = <SPAN style="COLOR: blue">new</SPAN> SqlCommand("select * from customers", cn);</P> <P style="MARGIN: 0px"><SPAN style="COLOR: teal">&nbsp;&nbsp;&nbsp;&nbsp;5</SPAN>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; SqlDataAdapter adpt = <SPAN style="COLOR: blue">new</SPAN> SqlDataAdapter(cmd);</P> <P style="MARGIN: 0px"><SPAN style="COLOR: teal">&nbsp;&nbsp;&nbsp;&nbsp;6</SPAN>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; DataSet ds = <SPAN style="COLOR: blue">new</SPAN> DataSet();</P> <P style="MARGIN: 0px"><SPAN style="COLOR: teal">&nbsp;&nbsp;&nbsp;&nbsp;7</SPAN>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; adpt.Fill(ds);</P> <P style="MARGIN: 0px"><SPAN style="COLOR: teal">&nbsp;&nbsp;&nbsp;&nbsp;8</SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dataGridView1.DataSource = ds.Tables[0]; </P> <P style="MARGIN: 0px"><SPAN style="COLOR: teal">&nbsp;&nbsp;&nbsp; 9</SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</P></DIV> <P>&nbsp;</P> <P><!--EndFragment--></P>

