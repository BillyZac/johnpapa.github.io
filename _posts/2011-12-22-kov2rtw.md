---
layout: post
title: Knockout 2.0.0 is Available
date: 2011-12-22 14:32
author: John
comments: true
categories: [knockout]
---
<p><a href="http://www.knockoutjs.com">Knockout 2.0.0</a> was released last night to the web! You might have been tinkering with the 1.3.0 RC recently, but it has been renamed to 2.0.0. Steve lists a few reasons why he went this route and I fully support the decision to jump to a new major version number. If you look inside to see what he added and changed for KO v2.0.0 you will see a pretty dramatic and powerful set of improvements.</p> <p>I have to thank Steve for creating and keeping up with the community requests for KO. He has been especially helpful to me in creating my upcoming series in MSDN Magazine on Knockout and my <a href="http://www.pluralsight-training.net/microsoft/">Pluralsight</a> course, both of which should be out starting in February and are updated for KO 2, so please keep an eye out for them!</p> <p>First let’s cover the important links, then let’s hit some of the best new features.</p> <p>Links that have been fully updated for Knockout 2.0.0 are the <a href="https://github.com/SteveSanderson/knockout/downloads">builds on GitHub</a>, the <a href="http://learn.knockoutjs.com/">tutorials</a> , and the <a href="http://knockoutjs.com/documentation/introduction.html">documentation and live examples</a> . And of course, <a href="http://blog.stevensanderson.com/2011/12/21/knockout-2-0-0-released">Steve’s post that summarizes everything you need to know</a>. Many community folks contributed to this release and some even wrote documentation. </p> <p>Here are my top 5 features in KO 2:</p> <p>(I linked to Steve’s JSFiddle examples for many of these. Just click on the keywords below to see examples.)</p><strong> <h3><strong>1. Control of flow bindings</strong></h3></strong> <p>This is where you can use built in bindings for <strong><a href="http://jsfiddle.net/StevenSanderson/kR329/light/">if</a></strong>, <strong>ifnot</strong>, <strong><a href="http://jsfiddle.net/StevenSanderson/kR329/light/">foreach</a></strong>, and <strong><a href="http://jsfiddle.net/StevenSanderson/yVBPS/light/">with</a></strong> inside of elements or even containerless tags … more on that in a moment. (I linked directly to Steve’s examples on JSFiddle). Excellent new feature that I use every day.</p> <div style="border-bottom: silver 1px solid; text-align: left; border-left: silver 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; border-top: silver 1px solid; cursor: text; border-right: silver 1px solid; padding-top: 4px" id="codeSnippetWrapper"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"><span style="color: #0000ff">&lt;</span><span style="color: #800000">ul</span> <span style="color: #ff0000">data-bind</span><span style="color: #0000ff">="foreach: products"</span><span style="color: #0000ff">&gt;</span><br>    <span style="color: #0000ff">&lt;</span><span style="color: #800000">li</span><span style="color: #0000ff">&gt;</span><br>        <span style="color: #0000ff">&lt;</span><span style="color: #800000">strong</span> <span style="color: #ff0000">data-bind</span><span style="color: #0000ff">="text: name"</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">strong</span><span style="color: #0000ff">&gt;</span><br>        <span style="color: #0000ff">&lt;</span><span style="color: #800000">em</span> <span style="color: #ff0000">data-bind</span><span style="color: #0000ff">="if: manufacturer"</span><span style="color: #0000ff">&gt;</span><br>            <span style="color: #ff0000">&amp;mdash;</span> made by <span style="color: #0000ff">&lt;</span><span style="color: #800000">span</span> <span style="color: #ff0000">data-bind</span><span style="color: #0000ff">="text: manufacturer.company"</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">span</span><span style="color: #0000ff">&gt;</span><br>        <span style="color: #0000ff">&lt;/</span><span style="color: #800000">em</span><span style="color: #0000ff">&gt;</span><br>    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">li</span><span style="color: #0000ff">&gt;</span><br><span style="color: #0000ff">&lt;/</span><span style="color: #800000">ul</span><span style="color: #0000ff">&gt;</span></pre><br></div><strong>
<h3><strong>2. Containerless control of flow </strong></h3></strong>
<p>Another killer feature. Sometimes you may need to control the flow of your bindings or templates. <a href="http://jsfiddle.net/StevenSanderson/8vms5/light/">Knockout 2.0.0 adds the ability to use HTML comments to wrap control of flow bindings</a>. I really love this feature as it helps me clean up my HTML and avoid having an element for no reason other than control of flow (which I had to do occasionally with KO 1.2) </p>
<div style="border-bottom: silver 1px solid; text-align: left; border-left: silver 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; border-top: silver 1px solid; cursor: text; border-right: silver 1px solid; padding-top: 4px" id="codeSnippetWrapper"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"><span style="color: #008000">&lt;!-- ko foreach: customers --&gt;</span><br>   <span style="color: #0000ff">&lt;</span><span style="color: #800000">div</span> <span style="color: #ff0000">data-bind</span><span style="color: #0000ff">="text: companyName"</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span><br><span style="color: #008000">&lt;!-- /ko --&gt;</span></pre><br></div><strong>
<h3><strong>3. Parent binding contexts</strong></h3></strong>
<p>Can anyone say ancestor relative source bindings? Yeah, you XAML folks know what I mean. KO 2v2 makes it easy to navigate from inside of a template where the data context&nbsp; is one thing, and reference a data context higher up in the hierarchy. This is really important when you are inside of a template and you need to reference a different data context (like for a combobox). <a href="http://jsfiddle.net/StevenSanderson/W2Hrz/light/">You can reference the root context ($root), get an array of parent contexts ($parents), get the immediately preceding parent context ($parent) too</a>.&nbsp; This is one of those features that you don’t think about often, but when you need it … you REALLY need it. Otherwise, you write some funky workaround code. </p>
<h3>4. Event handlers now receive the model as the first Parameter</h3>
<p>This is pretty self explanatory … now <a href="http://jsfiddle.net/StevenSanderson/caqva/light/">when you bind to an event handler Knockout will automatically pass the model for the current data context to the</a> handler. This makes it much simpler to write handlers that must operate on the current context (like remove, check selected, etc.) What’s even better here is that you don’t have to tell it to pass the context … it just does it under the covers and it keeps your HTML clean. </p>
<div style="border-bottom: silver 1px solid; text-align: left; border-left: silver 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; border-top: silver 1px solid; cursor: text; border-right: silver 1px solid; padding-top: 4px" id="codeSnippetWrapper"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet">&lt;button data-bind=<span style="color: #006080">"click: $parent.removeProduct"</span>&gt;Delete&lt;/button&gt;</pre><br></div>
<p>&nbsp;</p>
<p><strong><font color="#ff0000">Breaking Change: </font></strong>Note that in previous version the event handler received the DOM event object as the first parameter. In KO v2, the event handler receives the model as the first parameter, and the DOM event object as the second parameter. You will need to change any KO code that uses the DOM event object&nbsp; to account for it as the second parameter.</p>
<div style="border-bottom: silver 1px solid; text-align: left; border-left: silver 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; border-top: silver 1px solid; cursor: text; border-right: silver 1px solid; padding-top: 4px" id="codeSnippetWrapper"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet">// KO v1.2<br>myViewModel.myEventHandler = function(evt)<br><br>// KO v2<br>myViewModel.myEventHandler = function(data, evt) </pre><br></div>
<p>&nbsp;</p>
<h3>5. jQuery style event handlers</h3>
<p>Some folks don’t like putting the click handlers in their HTML bindings. So another new feature is to use jQuery style handlers for events handlers. This is straightforward to set up, but the added value here is from the <a href="http://jsfiddle.net/StevenSanderson/3knhM/light/">ko.dataFor and ko.contextFor helper functions</a>. Simply put, instead of passing the model into the handler, the handler itself can refer back to the context for the operation, or the data for (the model) the operation.</p>
<div style="border-bottom: silver 1px solid; text-align: left; border-left: silver 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; border-top: silver 1px solid; cursor: text; border-right: silver 1px solid; padding-top: 4px" id="codeSnippetWrapper"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet">$(<span style="color: #006080">".prods"</span>).on(<span style="color: #006080">"click"</span>, <span style="color: #006080">".del"</span>, function() {<br>    viewModel.removeProduct(ko.dataFor(this))<span style="color: #008000">;</span><br>});</pre><br></div>
<h3>6. Native Templates</h3>
<p>OK, so this is really my top 6 favorite new features in Knockout, but it’s a really good one. Knockout 2.0.0 adds support for native templates. What’s that? It means that you no longer have to take a dependency on jQuery templates nor any other external JavaScript templating library. <a href="http://knockoutjs.com/documentation/template-binding.html">You can check out the examples here for native templates, I highly recommend it!</a></p>
<p>If you want to continue using jQuery templates, you can do so. However KO 2 drops support for some of the older versions of jQuery templates. I won’t bore you with the details of how, because frankly, if you are using KO I think recommend moving to native templates and jQuery templates is no longer being actively developed.</p>
<h3>What Else?</h3>
<p>One other change that I almost missed my first time through it all is that there is a new function ko.computed. Actually, this is not a new function, it’s a new name for dependentObservable. Both names refer to the same function internally in KO, but the “new” way is to call them using ko.computed. </p>

