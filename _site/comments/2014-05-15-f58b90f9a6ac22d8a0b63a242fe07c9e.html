<p>Hey John,</p>

<p>Firstly, I have to say your tutorials are by far the best out there for Durandal and are a pleasure to watch and learn from!</p>

<p>I’m new to the SPA architecture although have worked with require.js and a bit of knockout.js before.</p>

<p>I’ve been tasked with creating an application using an SPA architecture and I’m already loving Durandal’s approach. I had played with Ember initially but it felt overly complex and abstract to see that it would save time moving forward in an applications development. Fortunately for me all the service calls are already in place so it’s just a case of creating the client side piece of the application.</p>

<p>The only area where I’m struggling is with the security side of things. I’m struggling to find decent articles on this. The best article I came across was a security check within an Ember project where before each Ajax call a token check was performed initially to see if the user was logged in. You can see the tutorial here:</p>

<p>http://www.embercasts.com/episodes/client-side-authentication-part-2</p>

<p>We are using (http only) cookie based authentication which makes things a little tougher as we cannot access the token using javascript so I was thinking of requesting a small service call as a pre-flight check to make sure the user is logged in before firing any ajax service calls on the page. On failure they’ll be re-directed to the login page. This redirect then persists their url history and returns them to the page they were on once logged in.</p>

<p>I’ve seen you’ve mentioned that you can have a security wrapper around the SPA server side but I would like to use our services for the login page too so the whole app is disconnected from ASP.net side of things. I’d imagine this should be possible with SPAs. It again Modularises the code bases even further which will be nice. We already have a nice implementation in place using CORS for cross domain service calls so it should be possible.</p>

<p>Would you have any reasons to not go down this route? If this does sound like a feasible solution do you know within Durandal if there is a pre-route binding for every page transition? Also, if you had any ideas on what the best approach would be for preventing additional service calls when the pre-flight check fails?</p>

<p>As I say, I’m new to the SPA world so still trying to get into that frame of mind but already loving the development side of things, especially with Durandal.</p>

<p>I hope you might have some time to help, I’d imagine you’re very busy!</p>

<p>Thanks &amp; keep up the awesome work,</p>

<p>Eddy
<!--more-->
AUTHOR: Eddy
AUTHOR EMAIL: jameseddyedwards@gmail.com
AUTHOR URL: http://paycircle.co.uk
SUBJECT: [John Papa] Connect
IP: 86.28.200.155
Array
(
    [Name] =&gt; Eddy
    [Email] =&gt; jameseddyedwards@gmail.com
    [Website] =&gt; paycircle.co.uk
    [Comment] =&gt; Hey John,</p>

<p>Firstly, I have to say your tutorials are by far the best out there for Durandal and are a pleasure to watch and learn from!</p>

<p>I’m new to the SPA architecture although have worked with require.js and a bit of knockout.js before.</p>

<p>I’ve been tasked with creating an application using an SPA architecture and I’m already loving Durandal’s approach. I had played with Ember initially but it felt overly complex and abstract to see that it would save time moving forward in an applications development. Fortunately for me all the service calls are already in place so it’s just a case of creating the client side piece of the application.</p>

<p>The only area where I’m struggling is with the security side of things. I’m struggling to find decent articles on this. The best article I came across was a security check within an Ember project where before each Ajax call a token check was performed initially to see if the user was logged in. You can see the tutorial here:</p>

<p>http://www.embercasts.com/episodes/client-side-authentication-part-2</p>

<p>We are using (http only) cookie based authentication which makes things a little tougher as we cannot access the token using javascript so I was thinking of requesting a small service call as a pre-flight check to make sure the user is logged in before firing any ajax service calls on the page. On failure they’ll be re-directed to the login page. This redirect then persists their url history and returns them to the page they were on once logged in.</p>

<p>I’ve seen you’ve mentioned that you can have a security wrapper around the SPA server side but I would like to use our services for the login page too so the whole app is disconnected from ASP.net side of things. I’d imagine this should be possible with SPAs. It again Modularises the code bases even further which will be nice. We already have a nice implementation in place using CORS for cross domain service calls so it should be possible.</p>

<p>Would you have any reasons to not go down this route? If this does sound like a feasible solution do you know within Durandal if there is a pre-route binding for every page transition? Also, if you had any ideas on what the best approach would be for preventing additional service calls when the pre-flight check fails?</p>

<p>As I say, I’m new to the SPA world so still trying to get into that frame of mind but already loving the development side of things, especially with Durandal.</p>

<p>I hope you might have some time to help, I’d imagine you’re very busy!</p>

<p>Thanks &amp; keep up the awesome work,</p>

<p>Eddy</p>

<p>)</p>

